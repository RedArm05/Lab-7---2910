@using Lab5_Elijah_Mckeehan.Components
@using Lab5_Elijah_Mckeehan.Shared
@inherits LayoutComponentBase

<!-- Top dark header -->
<div class="bg-dark text-white p-3">
    <h1 class="mb-0">Lab 5 - Elijah Mckeehan</h1>
</div>

<!-- Navbar -->
<nav class="navbar navbar-expand-sm navbar-light bg-light border-bottom mb-4">
    <div class="container">
        <a class="navbar-brand" href="/">Home</a>
    </div>
</nav>

<!-- Page layout -->
<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <article class="content px-4">
            @Body
        </article>

        <!-- Error message UI -->
        <div id="blazor-error-ui" class="alert alert-danger text-center m-3" style="display: none;">
            An unhandled error has occurred.
            <a href="" class="reload text-decoration-underline" @onclick="ReloadPage">Reload</a>
            <a class="dismiss ms-2" style="cursor: pointer;" @onclick="DismissError">ðŸ—™</a>
        </div>
    </main>
</div>

@code {
    private void ReloadPage()
    {
        // Reload the page (or redirect as needed)
        NavigationManager.NavigateTo(NavigationManager.Uri, forceLoad: true);
    }

    private void DismissError()
    {
        var errorDiv = document.getElementById("blazor-error-ui");
        if (errorDiv != null)
        {
            errorDiv.style.display = "none";
        }
    }
}
